-function(){"use strict";var d=function(a){return"gwd-page"==a.tagName.toLowerCase()||"gwd-page"==a.getAttribute("is")},e=function(a){if(d(a))return a;for(;a&&9!=a.nodeType;)if((a=a.parentElement)&&d(a))return a;return null},g=function(a,b,c){a=parseInt(a.getAttribute(b),10);isNaN(a)&&(a=c);return a},h=function(a,b){var c=parseFloat(a.getAttribute(b));isFinite(c)||(c=null);return c};var k=function(a){var b;b=document.createEvent("Event");b.initEvent("ready",!0,!0);a.dispatchEvent(b)},m=function(a,b){var c=function(f){a.removeEventListener("load",c);b(f)};a.addEventListener("load",c)};function n(a,b){this.B=a;for(var c=b.split("."),f=window,l=0;f&&l<c.length;l++)f=f[c[l]];this.g=f?0:2;this.h=[]}n.prototype.v=function(){for(var a=this.g=0;a<this.h.length;a++)this.h[a]();this.h=[]};n.prototype.load=function(a){a&&(0==this.g?a():this.h.push(a));if(2==this.g){this.g=1;a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=this.B;m(a,this.v.bind(this));var b=document.getElementsByTagName("script")[0];b?b.parentNode.insertBefore(a,b):document.getElementsByTagName("head")[0].appendChild(a)}};var p=null,q=function(a){p||(p=new n("https://www.google.com/jsapi","google.load"));p.load(function(){google.load("maps","3.13",a)})};var r=function(){};goog.inherits(r,HTMLElement);r.prototype.createdCallback=function(){this.a=0;this.u=this.w.bind(this);this.i=null;this.C=this.A.bind(this);this.o=null;this.m=this.hasAttribute("interaction");this.b=h(this,"latitude");this.c=h(this,"longitude");this.j=g(this,"heading",0);this.l=g(this,"pitch",0);this.s=g(this,"zoom",2);this.f=this.hasAttribute("key")?this.getAttribute("key"):""};
r.prototype.attachedCallback=function(){if("function"==typeof this.gwdLoad&&"function"==typeof this.gwdIsLoaded&&!this.gwdIsLoaded()){var a=e(this),b=a&&"function"==typeof a.gwdIsLoaded;(!a||b&&a.gwdIsLoaded())&&this.gwdLoad()}};r.prototype.gwdIsLoaded=function(){return 2==this.a||3==this.a};r.prototype.gwdLoad=function(){1!=this.a&&t(this)};
r.prototype.attributeChangedCallback=function(a){switch(a){case "interaction":this.m=this.hasAttribute("interaction");break;case "latitude":this.b=h(this,"latitude");break;case "longitude":this.c=h(this,"longitude");break;case "heading":this.j=g(this,"heading",0);break;case "pitch":this.l=g(this,"pitch",0);break;case "zoom":this.s=g(this,"zoom",2);break;case "key":this.f=this.hasAttribute("key")?this.getAttribute("key"):""}0!=this.a&&t(this)};
var t=function(a){if(null==a.b||null==a.c)console.error("Missing latitude or longitude:","["+a.b+", "+a.c+"]","in",a),a.a=3,k(a);else{for(a.a=1;a.firstChild;)a.removeChild(a.firstChild);if(a.m){var b=a.f,c="";b&&(c="&key="+b);q({callback:a.u,other_params:"sensor=true"+c})}else b=document.createElement("img","gwd-image"),c="https://maps.googleapis.com/maps/api/streetview?size="+(a.clientWidth||256)+"x"+(a.clientHeight||256)+"&location="+a.b+","+a.c+"&heading="+a.j+"&pitch="+a.l,a.f&&(c+="&key="+a.f),
b.setAttribute("source",c),b.addEventListener("ready",a.C,!1),a.appendChild(b),a.o=b,a.o.gwdLoad()}};r.prototype.A=function(){this.a=2;k(this)};r.prototype.w=function(){if(1==this.a){this.i=document.createElement("div");this.appendChild(this.i);var a={position:new google.maps.LatLng(this.b,this.c),pov:{heading:this.j,pitch:this.l},zoom:this.s,zoomControl:!0,scrollwheel:!0,scaleControl:!0,disableDoubleClickZoom:!0,disableDefaultUI:!0};new google.maps.StreetViewPanorama(this.i,a);this.a=2;k(this)}};
document.registerElement("gwd-streetview",{prototype:r.prototype});}()
